{"version":3,"sources":["Active.ts"],"sourcesContent":["import { Children, Fragment, cloneElement, createElement, isValidElement, useRef, useState } from 'react';\nimport type { ReactElement, ReactNode } from 'react';\nimport contains from 'react-native-contains';\nimport { useEvent } from 'react-native-event';\n\nexport default function Active({ children }) {\n  const state = useState<boolean>(false);\n  const isActive = state[0];\n  const setIsActive = state[1];\n  const ref = useRef<HTMLElement>(null);\n  useEvent(\n    (event) => {\n      if (!isActive) return;\n      if (ref.current && contains(ref.current, event.target)) return;\n      setIsActive(false);\n    },\n    [isActive, setIsActive]\n  );\n\n  return createElement(\n    Fragment,\n    null,\n    Children.map<ReactNode, ReactNode>(children, (child) =>\n      isValidElement(child)\n        ? // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n          cloneElement(child as ReactElement<any>, {\n            isActive,\n            setIsActive,\n            ref,\n          })\n        : child\n    )\n  );\n}\n"],"names":["Children","Fragment","cloneElement","createElement","isValidElement","useRef","useState","contains","useEvent","Active","children","state","isActive","setIsActive","ref","event","current","target","map","child"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,QAAQ,EAAEC,YAAY,EAAEC,aAAa,EAAEC,cAAc,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,QAAQ;AAE1G,OAAOC,cAAc,wBAAwB;AAC7C,SAASC,QAAQ,QAAQ,qBAAqB;AAE9C,eAAe,SAASC,OAAO,EAAEC,QAAQ,EAAE;IACzC,MAAMC,QAAQL,SAAkB;IAChC,MAAMM,WAAWD,KAAK,CAAC,EAAE;IACzB,MAAME,cAAcF,KAAK,CAAC,EAAE;IAC5B,MAAMG,MAAMT,OAAoB;IAChCG,SACE,CAACO;QACC,IAAI,CAACH,UAAU;QACf,IAAIE,IAAIE,OAAO,IAAIT,SAASO,IAAIE,OAAO,EAAED,MAAME,MAAM,GAAG;QACxDJ,YAAY;IACd,GACA;QAACD;QAAUC;KAAY;IAGzB,OAAOV,cACLF,UACA,MACAD,SAASkB,GAAG,CAAuBR,UAAU,CAACS,QAC5Cf,eAAee,SAEXjB,aAAaiB,OAA4B;YACvCP;YACAC;YACAC;QACF,KACAK;AAGV"}