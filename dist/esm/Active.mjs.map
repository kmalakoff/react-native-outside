{"version":3,"sources":["Active.ts"],"sourcesContent":["import { useState, useRef, Fragment, Children, isValidElement, cloneElement, createElement } from 'react';\nimport type { ReactElement, ReactNode } from 'react';\nimport { useEvent } from 'react-native-event';\nimport contains from 'react-native-contains';\n\nexport default function Active({ children }) {\n  const state = useState<boolean>(false);\n  const isActive = state[0];\n  const setIsActive = state[1];\n  const ref = useRef<HTMLElement>(null);\n  useEvent(\n    (event) => {\n      if (!isActive) return;\n      if (ref.current && contains(ref.current, event.target)) return;\n      setIsActive(false);\n    },\n    [isActive, setIsActive]\n  );\n\n  return createElement(\n    Fragment,\n    null,\n    Children.map<ReactNode, ReactNode>(children, (child) =>\n      isValidElement(child)\n        ? cloneElement(child as ReactElement<any>, {\n            isActive,\n            setIsActive,\n            ref,\n          })\n        : child\n    )\n  );\n}\n"],"names":["useState","useRef","Fragment","Children","isValidElement","cloneElement","createElement","useEvent","contains","Active","children","state","isActive","setIsActive","ref","event","current","target","map","child"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,cAAc,EAAEC,YAAY,EAAEC,aAAa,QAAQ,OAAO,CAAC;AAE1G,SAASC,QAAQ,QAAQ,oBAAoB,CAAC;AAC9C,OAAOC,QAAQ,MAAM,uBAAuB,CAAC;AAE7C,eAAe,SAASC,MAAM,CAAC,EAAEC,QAAQ,CAAA,EAAE,EAAE;IAC3C,MAAMC,KAAK,GAAGX,QAAQ,CAAU,KAAK,CAAC,AAAC;IACvC,MAAMY,QAAQ,GAAGD,KAAK,CAAC,CAAC,CAAC,AAAC;IAC1B,MAAME,WAAW,GAAGF,KAAK,CAAC,CAAC,CAAC,AAAC;IAC7B,MAAMG,GAAG,GAAGb,MAAM,CAAc,IAAI,CAAC,AAAC;IACtCM,QAAQ,CACN,CAACQ,KAAK,GAAK;QACT,IAAI,CAACH,QAAQ,EAAE,OAAO;QACtB,IAAIE,GAAG,CAACE,OAAO,IAAIR,QAAQ,CAACM,GAAG,CAACE,OAAO,EAAED,KAAK,CAACE,MAAM,CAAC,EAAE,OAAO;QAC/DJ,WAAW,CAAC,KAAK,CAAC,CAAC;KACpB,EACD;QAACD,QAAQ;QAAEC,WAAW;KAAC,CACxB,CAAC;IAEF,OAAOP,aAAa,CAClBJ,QAAQ,EACR,IAAI,EACJC,QAAQ,CAACe,GAAG,CAAuBR,QAAQ,EAAE,CAACS,KAAK,GACjDf,cAAc,CAACe,KAAK,CAAC,GACjBd,YAAY,CAACc,KAAK,EAAuB;YACvCP,QAAQ;YACRC,WAAW;YACXC,GAAG;SACJ,CAAC,GACFK,KAAK,CACV,CACF,CAAC;CACH,CAAA"}